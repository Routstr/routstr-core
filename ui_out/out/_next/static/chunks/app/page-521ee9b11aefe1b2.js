(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{159:(e,t,s)=>{"use strict";s.d(t,{DetailedWalletBalance:()=>k});var a=s(3422),l=s(4398),n=s(2349);let r=(0,s(3929).A)("wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);var i=s(3728),c=s(2434),d=s(9675),o=s(9945),x=s(7916);o.Ik({token:o.Yj().min(1)}),o.Ik({success:o.zM(),amount:o.ai().optional(),message:o.Yj().optional()}),o.Ik({amount:o.ai().positive(),offline:o.zM().optional()}),o.Ik({token:o.Yj(),balance:o.ai(),npub:o.Yj().optional()});class m{static async redeemToken(e){try{return await x.apiClient.post("/api/wallet/redeem",{token:e})}catch(e){return console.error("Error redeeming token:",e),{success:!1,message:"Failed to redeem token. Please try again."}}}static async sendToken(e){try{return await x.apiClient.post("/api/wallet/send",{amount:e})}catch(e){throw console.error("Error generating token:",e),Error("Failed to generate token. Please try again.")}}static async getBalance(){try{return await x.apiClient.get("/api/wallet/balance")}catch(e){throw console.error("Error fetching balance:",e),e}}static async getDetailedBalances(){try{return await x.apiClient.get("/admin/api/balances")}catch(e){throw console.error("Error fetching detailed balances:",e),e}}static async withdraw(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sat";try{return await x.apiClient.post("/admin/withdraw",{amount:e,mint_url:t,unit:s})}catch(e){throw console.error("Error withdrawing funds:",e),e}}}var h=s(2738),u=s(3648),p=s(6013),g=s(6320),f=s(268),j=s(3130),v=s(2264),b=s(246),N=s(2533);function y(e){let{open:t,onOpenChange:s,balances:n,onSuccess:r}=e,[i,c]=(0,l.useState)(""),[o,x]=(0,l.useState)(""),[h,y]=(0,l.useState)(""),[w,k]=(0,l.useState)(!1),_=n.filter(e=>!e.error&&e.wallet_balance>0),C=_.find(e=>"".concat(e.mint_url,"|").concat(e.unit)===i),A=(0,p.n)({mutationFn:async()=>{if(!C)throw Error("No balance selected");let e=parseInt(o);if(isNaN(e)||e<=0)throw Error("Invalid amount");return m.withdraw(e,C.mint_url,C.unit)},onSuccess:e=>{y(e.token),null==r||r()}});(0,l.useEffect)(()=>{C&&x((C.owner_balance>0?C.owner_balance:0).toString())},[C]),(0,l.useEffect)(()=>{t||(y(""),x(""),c(""),k(!1))},[t]);let z=parseInt(o)||0,S=C&&z>C.owner_balance&&z<=C.wallet_balance;return h?(0,a.jsx)(g.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(g.Cf,{className:"sm:max-w-xl",children:[(0,a.jsxs)(g.c7,{children:[(0,a.jsx)(g.L3,{children:"Withdrawal Successful"}),(0,a.jsx)(g.rr,{children:"Save this token! It represents your withdrawn balance."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4 dark:border-green-800 dark:bg-green-950",children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"font-semibold text-green-900 dark:text-green-100",children:"Withdrawal Token"})]}),(0,a.jsx)("div",{className:"rounded-md bg-gray-900 p-3 font-mono text-xs break-all text-green-400",children:h})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u.$,{onClick:()=>{navigator.clipboard.writeText(h),k(!0),setTimeout(()=>k(!1),2e3)},className:"flex-1",variant:w?"outline":"default",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Copied!"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N.A,{className:"mr-2 h-4 w-4"}),"Copy Token"]})}),(0,a.jsx)(u.$,{onClick:()=>s(!1),variant:"outline",children:"Close"})]})]})]})}):(0,a.jsx)(g.lG,{open:t,onOpenChange:s,children:(0,a.jsxs)(g.Cf,{className:"sm:max-w-md",children:[(0,a.jsxs)(g.c7,{children:[(0,a.jsx)(g.L3,{children:"Withdraw Balance"}),(0,a.jsx)(g.rr,{children:"Select mint and currency, then enter the amount to withdraw."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"mint-select",children:"Mint / Currency"}),(0,a.jsxs)(v.l6,{value:i,onValueChange:c,children:[(0,a.jsx)(v.bq,{id:"mint-select",children:(0,a.jsx)(v.yv,{placeholder:"Select mint and currency"})}),(0,a.jsx)(v.gC,{children:_.map(e=>(0,a.jsxs)(v.eb,{value:"".concat(e.mint_url,"|").concat(e.unit),children:[e.mint_url.replace("https://","").replace("http://","")," ","• ",e.unit.toUpperCase()," (",e.owner_balance,")"]},"".concat(e.mint_url,"|").concat(e.unit)))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.J,{htmlFor:"amount",children:"Amount"}),(0,a.jsx)(f.p,{id:"amount",type:"number",min:"1",value:o,onChange:e=>x(e.target.value),placeholder:"Enter amount"}),C&&(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Maximum:"," ",(0,a.jsxs)("span",{className:"font-semibold",children:[C.wallet_balance," ",C.unit]})]}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:["Your recommended balance:"," ",(0,a.jsxs)("span",{className:"font-semibold",children:[C.owner_balance," ",C.unit]})]})]})]}),S&&(0,a.jsxs)("div",{className:"bg-destructive/10 text-destructive flex items-start gap-2 rounded-md p-3 text-sm",children:[(0,a.jsx)(d.A,{className:"mt-0.5 h-5 w-5 flex-shrink-0"}),(0,a.jsx)("span",{children:"Warning: Withdrawing more than your balance will use user funds!"})]}),A.isError&&(0,a.jsxs)("div",{className:"bg-destructive/10 text-destructive flex items-start gap-2 rounded-md p-3 text-sm",children:[(0,a.jsx)(d.A,{className:"mt-0.5 h-5 w-5 flex-shrink-0"}),(0,a.jsx)("span",{children:A.error.message||"Failed to withdraw"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u.$,{onClick:()=>A.mutate(),disabled:!i||!o||A.isPending||z<=0||C&&z>C.wallet_balance,className:"flex-1",children:A.isPending?"Withdrawing...":"Withdraw"}),(0,a.jsx)(u.$,{onClick:()=>s(!1),variant:"outline",disabled:A.isPending,children:"Cancel"})]})]})]})})}var w=s(9183);function k(e){let t,s,o,{refreshInterval:x=1e4}=e,[p,g]=(0,l.useState)(!1),{data:f,isLoading:j,isError:v,error:b,isFetching:N,refetch:k}=(0,n.I)({queryKey:["detailed-wallet-balance"],queryFn:async()=>m.getDetailedBalances(),refetchInterval:x}),_=f?(t=0,s=0,o=0,f.forEach(e=>{e.error||(t+=e.wallet_balance||0,s+=e.user_balance||0,o+=e.owner_balance||0)}),{totalWallet:t,totalUser:s,totalOwner:o}):{totalWallet:0,totalUser:0,totalOwner:0};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(h.Zp,{className:"h-full w-full shadow-sm",children:[(0,a.jsxs)(h.aR,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(h.ZB,{className:"text-xl",children:"Cashu Wallet Balance"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(u.$,{variant:"default",size:"sm",onClick:()=>g(!0),disabled:j||!f||0===f.length,children:[(0,a.jsx)(r,{className:"mr-2 h-4 w-4"}),"Withdraw"]}),(0,a.jsxs)(u.$,{variant:"ghost",size:"icon",onClick:()=>k(),disabled:j||N,className:"h-8 w-8",children:[(0,a.jsx)(i.A,{className:(0,w.cn)("h-4 w-4",(N||j)&&"animate-spin")}),(0,a.jsx)("span",{className:"sr-only",children:"Refresh balance"})]})]})]}),(0,a.jsx)(h.BT,{children:"Detailed balance breakdown by mint and currency"})]}),(0,a.jsx)(h.Wu,{children:j?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(c.A,{className:"text-primary h-8 w-8 animate-spin"})}):v?(0,a.jsxs)("div",{className:"bg-destructive/10 text-destructive flex items-center space-x-2 rounded-md p-4",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),(0,a.jsxs)("span",{children:["Error loading balance: ",b.message]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"Your Balance (Total)"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:[_.totalOwner.toLocaleString()," sats"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"Total Wallet"}),(0,a.jsxs)("span",{className:"text-lg font-semibold",children:[_.totalWallet.toLocaleString()," sats"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"User Balance"}),(0,a.jsxs)("span",{className:"text-lg font-semibold",children:[_.totalUser.toLocaleString()," sats"]})]})]}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:"Your balance = Total wallet - User balance"}),(0,a.jsxs)("div",{className:"overflow-hidden rounded-lg border",children:[(0,a.jsxs)("div",{className:"bg-muted grid grid-cols-4 gap-2 p-3 text-sm font-semibold",children:[(0,a.jsx)("div",{children:"Mint / Unit"}),(0,a.jsx)("div",{className:"text-right",children:"Wallet"}),(0,a.jsx)("div",{className:"text-right",children:"Users"}),(0,a.jsx)("div",{className:"text-right",children:"Owner"})]}),f&&f.length>0?f.filter(e=>e.wallet_balance&&e.wallet_balance>0||e.error).map((e,t)=>(0,a.jsxs)("div",{className:(0,w.cn)("grid grid-cols-4 gap-2 border-t p-3 text-sm",e.error&&"bg-destructive/10 text-destructive"),children:[(0,a.jsxs)("div",{className:"text-xs break-all",children:[e.mint_url.replace("https://","").replace("http://","")," ","• ",e.unit.toUpperCase()]}),(0,a.jsx)("div",{className:"text-right font-mono",children:e.error?"error":e.wallet_balance.toLocaleString()}),(0,a.jsx)("div",{className:"text-right font-mono",children:e.error?"-":e.user_balance.toLocaleString()}),(0,a.jsx)("div",{className:(0,w.cn)("text-right font-mono",!e.error&&e.owner_balance>0&&"font-semibold text-green-600"),children:e.error?"-":e.owner_balance.toLocaleString()})]},t)):(0,a.jsx)("div",{className:"text-muted-foreground p-4 text-center text-sm",children:"No balances to display"})]})]})})]}),(0,a.jsx)(y,{open:p,onOpenChange:g,balances:f||[],onSuccess:()=>{k()}})]})}},246:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3929).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},1551:(e,t,s)=>{Promise.resolve().then(s.bind(s,7569)),Promise.resolve().then(s.bind(s,159)),Promise.resolve().then(s.bind(s,4756)),Promise.resolve().then(s.bind(s,2483)),Promise.resolve().then(s.bind(s,953))},2264:(e,t,s)=>{"use strict";s.d(t,{bq:()=>x,eb:()=>h,gC:()=>m,l6:()=>d,yv:()=>o});var a=s(3422);s(4398);var l=s(3439),n=s(9994),r=s(8940),i=s(4967),c=s(9183);function d(e){let{...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"select",...t})}function o(e){let{...t}=e;return(0,a.jsx)(l.WT,{"data-slot":"select-value",...t})}function x(e){let{className:t,size:s="default",children:r,...i}=e;return(0,a.jsxs)(l.l9,{"data-slot":"select-trigger","data-size":s,className:(0,c.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i,children:[r,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:t,children:s,position:n="popper",...r}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{"data-slot":"select-content",className:(0,c.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[(0,a.jsx)(u,{}),(0,a.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),(0,a.jsx)(p,{})]})})}function h(e){let{className:t,children:s,...n}=e;return(0,a.jsxs)(l.q7,{"data-slot":"select-item",className:(0,c.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(r.A,{className:"size-4"})})}),(0,a.jsx)(l.p4,{children:s})]})}function u(e){let{className:t,...s}=e;return(0,a.jsx)(l.PP,{"data-slot":"select-scroll-up-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(i.A,{className:"size-4"})})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(l.wn,{"data-slot":"select-scroll-down-button",className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,a.jsx)(n.A,{className:"size-4"})})}},2434:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3929).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2483:(e,t,s)=>{"use strict";s.d(t,{TemporaryBalances:()=>j});var a=s(3422),l=s(4398),n=s(2349),r=s(5195),i=s(3728),c=s(2434),d=s(9675),o=s(3929);let x=(0,o.A)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),m=(0,o.A)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),h=(0,o.A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var u=s(9119),p=s(2738),g=s(3648),f=s(9183);function j(e){let t,s,o,{refreshInterval:j=1e4}=e,[v,b]=(0,l.useState)(""),{data:N,isLoading:y,isError:w,error:k,isFetching:_,refetch:C}=(0,n.I)({queryKey:["temporary-balances"],queryFn:async()=>u.zQ.getTemporaryBalances(),refetchInterval:j}),A=e=>"".concat(e.toLocaleString()," msat"),z=N?N.filter(e=>{var t;return e.hashed_key.toLowerCase().includes(v.toLowerCase())||(null==(t=e.refund_address)?void 0:t.toLowerCase().includes(v.toLowerCase()))}):[],S=N?(t=0,s=0,o=0,N.forEach(e=>{t+=e.balance||0,s+=e.total_spent||0,o+=e.total_requests||0}),{totalBalance:t,totalSpent:s,totalRequests:o}):{totalBalance:0,totalSpent:0,totalRequests:0};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(p.Zp,{className:"h-full w-full shadow-sm",children:[(0,a.jsxs)(p.aR,{className:"pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(p.ZB,{className:"flex items-center gap-2 text-xl",children:[(0,a.jsx)(r.A,{className:"h-5 w-5"}),"Temporary Balances"]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search by key or address...",value:v,onChange:e=>b(e.target.value),className:"focus:ring-primary/20 w-64 rounded-md border py-2 pr-3 pl-8 text-sm focus:ring-2 focus:outline-none"}),(0,a.jsx)(r.A,{className:"text-muted-foreground absolute top-2.5 left-2 h-4 w-4"})]}),(0,a.jsxs)(g.$,{variant:"ghost",size:"icon",onClick:()=>C(),disabled:y||_,className:"h-8 w-8",children:[(0,a.jsx)(i.A,{className:(0,f.cn)("h-4 w-4",(_||y)&&"animate-spin")}),(0,a.jsx)("span",{className:"sr-only",children:"Refresh temporary balances"})]})]})]}),(0,a.jsx)(p.BT,{children:"API keys with their current balances and usage statistics"})]}),(0,a.jsx)(p.Wu,{children:y?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)(c.A,{className:"text-primary h-8 w-8 animate-spin"})}):w?(0,a.jsxs)("div",{className:"bg-destructive/10 text-destructive flex items-center space-x-2 rounded-md p-4",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),(0,a.jsxs)("span",{children:["Error loading temporary balances: ",k.message]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-3",children:[(0,a.jsxs)("div",{className:"rounded-lg border border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{className:"h-5 w-5 text-blue-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-blue-800",children:"Total Balance"})]})}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold text-blue-900",children:A(S.totalBalance)})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-green-200 bg-gradient-to-r from-green-50 to-emerald-50 p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(m,{className:"h-5 w-5 text-green-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-800",children:"Total Spent"})]})}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold text-green-900",children:A(S.totalSpent)})]}),(0,a.jsxs)("div",{className:"rounded-lg border border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50 p-4",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.A,{className:"h-5 w-5 text-purple-600"}),(0,a.jsx)("span",{className:"text-sm font-medium text-purple-800",children:"Total Requests"})]})}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold text-purple-900",children:S.totalRequests.toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"overflow-hidden rounded-lg border",children:[(0,a.jsxs)("div",{className:"bg-muted grid grid-cols-6 gap-2 p-3 text-sm font-semibold",children:[(0,a.jsx)("div",{children:"Hashed Key"}),(0,a.jsx)("div",{className:"text-right",children:"Balance"}),(0,a.jsx)("div",{className:"text-right",children:"Total Spent"}),(0,a.jsx)("div",{className:"text-right",children:"Total Requests"}),(0,a.jsx)("div",{children:"Refund Address"}),(0,a.jsx)("div",{className:"text-right",children:"Expiry Time"})]}),z.length>0?z.map((e,t)=>(0,a.jsxs)("div",{className:(0,f.cn)("hover:bg-muted/50 grid grid-cols-6 gap-2 border-t p-3 text-sm transition-colors",0===e.balance&&"opacity-60"),children:[(0,a.jsx)("div",{className:"max-w-32 truncate font-mono text-xs break-all",children:e.hashed_key}),(0,a.jsx)("div",{className:"text-right font-mono",children:A(e.balance)}),(0,a.jsx)("div",{className:"text-right font-mono",children:A(e.total_spent)}),(0,a.jsx)("div",{className:"text-right font-mono",children:e.total_requests.toLocaleString()}),(0,a.jsx)("div",{className:"max-w-32 truncate font-mono text-xs break-all",children:e.refund_address||"-"}),(0,a.jsx)("div",{className:"text-right font-mono text-xs",children:e.key_expiry_time?(0,a.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,a.jsx)(h,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:new Date(1e3*e.key_expiry_time).toLocaleDateString()})]}):"-"})]},t)):(0,a.jsx)("div",{className:"text-muted-foreground p-8 text-center text-sm",children:v?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-8 w-8"}),(0,a.jsx)("span",{children:"No temporary balances match your search"})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,a.jsx)(r.A,{className:"h-8 w-8"}),(0,a.jsx)("span",{children:"No temporary balances found"})]})})]}),N&&N.length>0&&(0,a.jsxs)("div",{className:"text-muted-foreground mt-4 text-xs",children:["Showing ",z.length," of ",N.length," temporary balances"]})]})})]})})}},2533:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3929).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},3728:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3929).A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},5195:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3929).A)("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]])},6320:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>x,Es:()=>h,L3:()=>u,c7:()=>m,lG:()=>i,rr:()=>p,zM:()=>c});var a=s(3422);s(4398);var l=s(4316),n=s(9680),r=s(9183);function i(e){let{...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"dialog",...t})}function c(e){let{...t}=e;return(0,a.jsx)(l.l9,{"data-slot":"dialog-trigger",...t})}function d(e){let{...t}=e;return(0,a.jsx)(l.ZL,{"data-slot":"dialog-portal",...t})}function o(e){let{className:t,...s}=e;return(0,a.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,r.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function x(e){let{className:t,children:s,...i}=e;return(0,a.jsxs)(d,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,r.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[s,(0,a.jsxs)(l.bm,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,r.cn)("flex flex-col gap-2 text-center sm:text-left",t),...s})}function h(e){let{className:t,...s}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,r.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...s})}function u(e){let{className:t,...s}=e;return(0,a.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,r.cn)("text-lg leading-none font-semibold",t),...s})}function p(e){let{className:t,...s}=e;return(0,a.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,r.cn)("text-muted-foreground text-sm",t),...s})}}},e=>{var t=t=>e(e.s=t);e.O(0,[363,222,808,29,730,978,481,236,601,945,497,358],()=>t(1551)),_N_E=e.O()}]);